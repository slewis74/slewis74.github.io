
<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="last-modified" content="2015-04-01T16:08:01.3060942+10:00" />
    <meta name="keywords" content="MVVM,XAML" />
    <title>Shannon's Blog</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/blog.css" />
    <link rel="canonical" href="http://blog.shannonlewis.me/2015/03/mvvm/" />
</head>
<body>
    <div class="blog-masthead">
        <div class="container">
            <nav class="navbar navbar-inverse navbar-fixed-top blog-nav" role="navigation">
                <div class="container">
                    <div class="navbar-header">
						<a href="/" class="navbar-brand">Shannon Lewis</a>
                    </div>
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">
                            <li><a class="blog-nav-item" href="/">Home</a></li>
                            <li><a class="blog-nav-item" href="/about">About</a></li>
                            <li><a class="blog-nav-item" href="/category">Categories</a></li>
                            <li><a class="blog-nav-item" href="/archive">Archive</a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Subscribe<span class="caret"></span></a>
                                <ul class="dropdown-menu" role="menu">
                                    <li><a class="blog-nav-item" href="/rss.xml">RSS</a></li>
                                    <li><a href="/feed.xml">Atom</a></li>
                                </ul>

                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    
    <div class="container">
        <div class="blog-header">
            <h1 class="blog-title">Shannon's Blog</h1>
            <p class="lead blog-description">.NET dev, going mobile</p>
        </div>        
        <div class="row">
            
            

<div id="blog-post" class="col-sm-8">
    <h1 class="blog-post-title">Model-View-ViewModel</h1>
    <p class="blog-post-meta">
        27 Mar 2015
    </p>

    

    <p>As a consultant focused in the WPF and Mobile development spaces I've spent a lot of time in the world of MVVM.  I've seen lots of different frameworks and lots of different ideas around implementing MVVM.</p>

<p>One thing that I've seen frequently cause confusion is the first M.  To help explain that statement, here are the typical ways I try to describe MVVM to people.</p>

<h1>What is MVVM?</h1>

<p>Model-View-ViewModel. That's what it's short for.</p>

<p>MVVM is an adaptation of MVP and MVC, adjusted to play to the strengths of XAML's binding abilities. </p>

<p>It also abstracts the visual behaviour away from the View and into a ViewModel, which is just a class at the end of the day, and in doing so it becomes possible to unit test the visual behaviour without an actual UI.</p>

<h1>What is a Model?</h1>

<p>A Model represents data.  The data may be a single entity, it might be an aggregate of multiple model entities.
Its responsibility is to hold the data and notify others when changes occur.  It is the Domain Model of your client app.</p>

<p>A model object <strong>instance</strong> may be shared between ViewModel instances.</p>

<h1>What is a View Model?</h1>

<p>A View Model represents the visual state of the data, and encapsulates the visual behaviour around that data.  It may project the data stored in a model (e.g. FullName may project "Surname, FirstName"), but it's responsibility is to hold the transient, visual state of the data.  IsSelected, IsChecked, IsEnabled, SelectedItem are examples of the types of properties on a ViewModel, they are not persisted but are important to the visualisation of the data.</p>

<p>A ViewModel <strong>type</strong> may be shared between Views, but <a href="http://en.wikipedia.org/wiki/Here_be_dragons">here be dragons</a>.  Only do this if the visual behaviour required <strong>is identical</strong>.  If it isn't identical then you will be tempted into adding multiple personalities to the ViewModel, and violating the "Single Responsibility" principle. </p>

<h1>What is a View?</h1>

<p>A View presents the data to a user, through the use of ViewModels and Models.  A View can use a Model directly, if there is no requirement for visual state.</p>

<p>A View may also consist of sub-Views.</p>

<h1>Don't forget the first M!</h1>

<p>So back to my earlier statement, many implementations I've seen have lots of Views and ViewModels, but not a Model in sight.  The first M (Model) gets neglected.</p>

<p>When you dig deeper there usually are Models, but they've been called ViewModels.  How does the code get to this point?  I think it's often that the pattern is not well understood and the team get into the habit of just calling everything a ViewModel, then they start sharing something called a ViewModel (but is actually a Model) between Views, then they get into the habit of doing that, then they start sharing ViewModels that really are ViewModels between Views, then the dragons...</p>

<p>So please, take the time to think about the first M, and avoid confusion by calling things what they actually are.</p>


    <div id="disqus_thread"></div>
<script>
    var reset_disqus = function(){
        DISQUS.reset({
            reload: true,
            config: function () {
                //this.page.identifier = '';
                this.page.url = 'http://blog.shannonlewis.me/2015/03/mvvm/';
                //this.page.title = '';
            }
        });
    };

    var disqus_shortname = 'slewis';
    var disqus_url = 'http://blog.shannonlewis.me/2015/03/mvvm/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    window.addEventListener('orientationchange', reset_disqus);
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51ca97356d8c1454"></script>

</div>
            
            <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
                <div class="sidebar-module sidebar-module-inset">
					<h4>About Shannon</h4>
					<img src="/images/Shannon-Thumbnail.jpg" />
                    <p><strong>Shannon Lewis</strong> is a Consultant with Readify, an avid .NET/Mobile Developer, Runner, Cyclist and father of 2.</p>
                </div>
            </div>
            
        </div>
    </div>
    
    <footer id="colophon" class="site-footer blog-footer" role="contentinfo">
        <div class="site-info">
            Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a>.
        </div>
        <!-- .site-info -->
    </footer>

    <!-- #page .hfeed .site -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src='/javascripts/prettify.js' type='text/javascript'></script>
    <script src='/javascripts/bootstrap.min.js' type='text/javascript'></script>
    <script type='text/javascript'>
        $(function () {
            $("pre code").parent().each(function () {
                if (!$(this).hasClass("prettyprint")) {
                    $(this).addClass("prettyprint");
                    a = true
                }
            });

            prettyPrint();
        });
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-51930463-1', 'shannonlewis.me');
        ga('send', 'pageview');

    </script>
</body>
</html>
